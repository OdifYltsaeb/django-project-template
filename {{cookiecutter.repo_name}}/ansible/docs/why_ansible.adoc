== Why Ansible

https://docs.ansible.com/ansible/latest/index.html[Ansible], as a configuration &amp; automation framework, provides
fully automated deployments with no user interference on the server host. So all tasks only need to be described
in the configuration, and run on a local machine, thus there is guarantee that no human error would creep in, and that
all hosts managed by the same `ansible` configuration are configured in a consistent fashion.


=== Terms

[horizontal]
.Ansible terms

Inventory::  A list of hosts or servers that Ansible will manage. The inventory can be static (a file containing a list of hosts) or dynamic (generated by a script). Host names are grouped under a name. When running ansible playbooks you don't referance the host, but rather the group, using the `--limit` argument.

.inventory for this project
----
include::../inventory[]
----

Playbook:: A YAML file that contains a set of tasks and or roles to be executed on a group of hosts. This is the argument when calling Ansible.

.the playbook for cloneing a server clone.yml
----
include::../clone.yml[]
----

Role:: A set of tasks, files, and variables (in YAML format) that can be loaded into Ansible for execution.
       Roles are stored in a directory tree and are typically stored in source control.

.
.The role for updating the nginx config
----
include::../roles/helpers/update-nginx-config.yml[]
----

TIP: The above role uses the link:https://docs.ansible.com/ansible/latest/collections/ansible/builtin/template_module.html[template] task, which the typical way that ansible generates files, using the link:https://jinja.palletsprojects.com/en/3.1.x/[jinja2] templating language.

Task:: A single action to be performed on a host, such as installing a package or copying a file. Most tasks call a module, to do something, or they can just run a link:https://docs.ansible.com/ansible/latest/collections/ansible/builtin/shell_module.htm[bash] command.

.The role for updating the nginx config
----
include::../roles/helpers/reload-nginx.yml[]
----

Module:: A module is a reusable, standalone script that Ansible runs on your behalf, either locally or remotely. Ansible executes each module, usually on the server, and collects return values. More modules can be found on https://galaxy.ansible.com[Ansible Galaxy], and core modules can be found on https://docs.ansible.com/ansible/latest/modules/modules_by_category.html[Ansible Docs].

Vault:: An encrypted file containing sensitive data such as passwords or keys. Ansible allows us to keep this data in the repo without exposing it.

host_vars:: A directory containing files with variables specific to a host. The file name should match the host name in the inventory file.

group_vars:: A directory containing files with variables specific to a group. The file name should match the group name in the inventory file.

Tags:: A way to run a subset of tasks in a playbook. Tags are defined in the playbook and can be used to run only the tasks with that tag.

